<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ejercicio 21</title>
</head>
<body>
    <script>

        const tablero = [
                ['ðŸ“¦', 'ðŸ’£', 'ðŸ’£'],
                ['ðŸ“¦', 'ðŸ“¦', 'ðŸ“¦'],
                ['ðŸ’£', 'ðŸ“¦', 'ðŸ“¦'],
            ];
        
        let tableroVisible = [
            ['ðŸ“¦', 'ðŸ“¦', 'ðŸ“¦'],
            ['ðŸ“¦', 'ðŸ“¦', 'ðŸ“¦'],
            ['ðŸ“¦', 'ðŸ“¦', 'ðŸ“¦']
            ];
        
        let filaIndex = 0;
            
        function mostrarTablero() {
    
            console.log("Tablero:   ");

            let tableroTexto = ''; 

            tableroVisible.forEach(fila => {
                console.log(fila.join(' ') + " "); // El 8203 es un carÃ¡cter invisible
                filaIndex++;
            });
        }

        function jugar() {
            let totalCasillasVacias = 0;

            tablero.forEach(fila => {
                fila.forEach( casilla => {
                    if (casilla === 'ðŸ“¦') totalCasillasVacias++;
                })
            });

            while (true) {
                mostrarTablero(tableroVisible);

                const fila = parseInt(prompt("Ingresa la fila ( 0 - 2 ):"));
                let columna = parseInt(prompt("Ingresa la columna ( 0 - 2 ):"));

                if (fila < 0 || fila >= tablero.length || columna < 0 || columna >= tablero[0].length) {
                    console.log("Coordenadas invÃ¡lidas. Intenta nuevamente.");
                    continue;
                }

                if (tablero[fila][columna] === 'ðŸ’¨') {
                    console.log("Ya descubriste esa casilla. Intenta otra.");
                    continue;
                }

                if (tablero[fila][columna] === 'ðŸ’£') {
                    
                    tableroVisible[fila][columna] = 'ðŸ’¥'; 
                    mostrarTablero(tableroVisible);
                    console.log("Â¡Oh no! Â¡Has encontrado una bomba!");
                    console.log("Â¡Has perdido!");
                    break; 

                } else {
                   
                    tableroVisible[fila][columna] = 'ðŸ’¨'; 
                    console.log("La caja estÃ¡ vacÃ­a. Sigue jugando.");
                    totalCasillasVacias--; 

                    if (totalCasillasVacias === 0) {
                        mostrarTablero(tableroVisible);
                        console.log("Â¡Felicidades! Has descubierto todas las casillas vacÃ­as. Â¡Ganaste!");
                        break; 
                    }
                }
            }
        }

        jugar();


    </script>
</body>
</html>