<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
          const tablero = [
        ['üå±', 'üå±', 'üçé', 'üå±', 'üå±'],
        ['üçé', 'üß±', 'üå±', 'üß±', 'üçé'],
        ['üå±', 'üß±', 'üêç', 'üå±', 'üå±'],
        ['üå±', 'üçé', 'üå±', 'üß±', 'üå±'],
        ['üçé', 'üå±', 'üå±', 'üçé', 'üß±'],
        ['üå±', 'üå±', 'üå±', 'üå±', 'üçé'],    
    ];
;

    // Posici√≥n inicial de la v√≠bora
    let vibora = { x: 2, y: 2 };

    let manzanasRestantes = 7;

    function mostrarTablero() {
        tablero.forEach(fila => console.log(fila.join(' ')));
        console.log('Usa W (arriba), A (izquierda), S (abajo), D (derecha) para moverte.');
    }

    function leerDireccion() {
        const input = prompt('Mover (W/A/S/D):');
        return input ? input.toUpperCase() : '';
    }

    function esDireccionValida(direccion) {
        return ['W', 'A', 'S', 'D'].includes(direccion);
    }

    function calcularNuevaPosicion(direccion) {
        let nuevaX = vibora.x;
        let nuevaY = vibora.y;

        switch (direccion) {
            case 'W':
                nuevaX--; // Arriba
                    break;
            case 'S':
                nuevaX++; // Abajo
                break;
            case 'A':
                nuevaY--; // Izquierda
                break;
            case 'D':
                nuevaY++; // Derecha
                break;
        }

        // Bordes conectados
        nuevaX = (nuevaX + tablero.length) % tablero.length; // Arriba/abajo
        nuevaY = (nuevaY + tablero[0].length) % tablero[0].length; // Izquierda/derecha

        return { nuevaX, nuevaY };
    }

    function moverVibora( direccion ) {
        const { nuevaX, nuevaY } = calcularNuevaPosicion(direccion);

        if (tablero[nuevaX][nuevaY] === 'üß±') {
            console.log('No puedes atravesar ladrillos. Intenta otra direcci√≥n.');
            return;
        }

        if (tablero[nuevaX][nuevaY] === 'üçé') {
            console.log('¬°Comiste una manzana!');
            manzanasRestantes--;
        }

        // Mover la v√≠bora a la nueva posici√≥n
        tablero[vibora.x][vibora.y] = 'üå±'; // Dejar vac√≠o donde estaba la v√≠bora
        vibora.x = nuevaX;
        vibora.y = nuevaY;
        tablero[vibora.x][vibora.y] = 'üêç'; // Colocar la v√≠bora en la nueva posici√≥n

    }

    function verificarFinDelJuego() {
        if (manzanasRestantes === 0) {
            console.log('¬°Felicidades! Has comido todas las manzanas. ¬°Ganaste!');
            return true; // Fin 
        }
        return false; // Continuar jugando
    }

    function jugar() {
        mostrarTablero();

        if (verificarFinDelJuego()) {
            return; // Salir si el juego ha terminado
        }
        
        const direccion = leerDireccion();
        

        if (esDireccionValida(direccion)) {
            moverVibora(direccion);
        } else {
            console.log('Movimiento inv√°lido. Usa W, A, S, D para moverte.');
        }
        
        jugar();
    }

    jugar();

    </script>
</body>
</html>
  